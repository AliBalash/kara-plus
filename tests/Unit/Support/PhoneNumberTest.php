<?php

namespace Tests\Unit\Support;

use App\Support\PhoneNumber;
use PHPUnit\Framework\TestCase;

class PhoneNumberTest extends TestCase
{
    /**
     * @dataProvider normalizedPhoneProvider
     */
    public function test_it_normalizes_phone_numbers(string $raw, string $expected): void
    {
        $this->assertSame($expected, PhoneNumber::normalize($raw));
    }

    public static function normalizedPhoneProvider(): array
    {
        return [
            ['+989122367378', '+989122367378'],
            ['+989123020296', '+989123020296'],
            ['09123020296', '+989123020296'],
            ['+989163068336', '+989163068336'],
            ["+98\u{202A}9124822681", '+989124822681'],
            ['971526031358', '+971526031358'],
            ['989113214776', '+989113214776'],
            ['9127481305', '+989127481305'],
            ["\u{202A}9122388451", '+989122388451'],
            ['9123848984', '+989123848984'],
            ['1 (917) 5136254', '+19175136254'],
            ['9124180432', '+989124180432'],
            ['971503327971', '+971503327971'],
            ['971562623094', '+971562623094'],
            ['9133666242', '+989133666242'],
            ['971589909149', '+971589909149'],
            ["989122966112\u{202C}", '+989122966112'],
            ['989198960882', '+989198960882'],
            ['989128906697', '+989128906697'],
            ['971562902183', '+971562902183'],
            ['971522308269', '+971522308269'],
            ['989124195861', '+989124195861'],
            ['971561050243', '+971561050243'],
            ['447361584974', '+447361584974'],
            ["98\u{202A}9024303700", '+989024303700'],
            ['989122115763', '+989122115763'],
            ['989127137316', '+989127137316'],
            ['989128185980', '+989128185980'],
            ["989121055770\u{202C}", '+989121055770'],
            ['989374580684', '+989374580684'],
            ['989121248150', '+989121248150'],
            ['989105009599', '+989105009599'],
            ['989127334336', '+989127334336'],
            ['989127965250', '+989127965250'],
            ['989033090128', '+989033090128'],
            ['989126936067', '+989126936067'],
            ['9177123891', '+989177123891'],
            ['989211494878', '+989211494878'],
            ['971507091213', '+971507091213'],
            ['971556161041', '+971556161041'],
            ['989156000014', '+989156000014'],
            ['989121715645', '+989121715645'],
            ['989121909479', '+989121909479'],
            ['989111383212', '+989111383212'],
            ['966 50 047 5659', '+966500475659'],
            ['971501972285', '+971501972285'],
            ['4917686030270', '+4917686030270'],
            ['989123882449', '+989123882449'],
            ['989122978816', '+989122978816'],
            ['989122051517', '+989122051517'],
            ['989059636255', '+989059636255'],
            ['0971960000000', '+971960000000'],
            ['989937708706', '+989937708706'],
            ['989121119969', '+989121119969'],
            ['971553561971', '+971553561971'],
            ['989126001037', '+989126001037'],
            ['989106924893', '+989106924893'],
            ['989151130897', '+989151130897'],
            ['989124495007', '+989124495007'],
            ['989912031405', '+989912031405'],
            ['491629694776', '+491629694776'],
            ['989126786901', '+989126786901'],
            ['09121013015', '+989121013015'],
            ['989123341744', '+989123341744'],
            ['989900326196', '+989900326196'],
            ['989121177333', '+989121177333'],
            ['989121433382', '+989121433382'],
            ['989125633220', '+989125633220'],
            ['989175254581', '+989175254581'],
            ['989123390053', '+989123390053'],
            ['989122433711', '+989122433711'],
            ['989133117158', '+989133117158'],
            ['989122582320', '+989122582320'],
            ['989123436355', '+989123436355'],
            ['989121280153', '+989121280153'],
            ['989356661871', '+989356661871'],
            ['989005551416', '+989005551416'],
            ['989171703747', '+989171703747'],
            ['9007607170', '+989007607170'],
            ['989121074391', '+989121074391'],
            ['989363434231', '+989363434231'],
            ['+989123019423', '+989123019423'],
            ['+989390120024', '+989390120024'],
            ['98 919 167 2009', '+989191672009'],
            ['989128487992', '+989128487992'],
            ['989133117011', '+989133117011'],
            ['971 50 332 7971', '+971503327971'],
            ['989121269388', '+989121269388'],
            ['989051643496', '+989051643496'],
            ['989120355668', '+989120355668'],
            ['917 106 6002', '+989171066002'],
            ['989155090149', '+989155090149'],
            ['989128810442', '+989128810442'],
            ['989036752485', '+989036752485'],
            ['9171753153', '+989171753153'],
            ['98912 271 8985', '+989122718985'],
            ['989153880920', '+989153880920'],
            ['971509068482', '+971509068482'],
            ['989122454935', '+989122454935'],
            ['971 50 197 2285', '+971501972285'],
        ];
    }
}
